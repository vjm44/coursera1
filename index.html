
<!-- saved from url=(0339)https://d18ky98rnyall9.cloudfront.net/_PEQk3ziEeiqbAqxMNypOA_fd149dc07ce211e8a7eff530c81b5bec_index.html?Expires=1637712000&Signature=DG4w5wltgQxOXsWuk1GaGN7axYi8sqfN~KEIwduiRjvV04moSa3l4SCWAQj-o0LAPpBs-lnNIjri5gd~-RAyIOD5mHnrqCHydDVBMdM5-uecmpik2E5pHZh~mLT5ua5Gh4V4O4DSWptFYrsCPxBLyg87gOyh35EZrctsNjhUBCA_&Key-Pair-Id=APKAJLTNE6QMUY6HBC5A -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
    <style>
        body {
            font-family: Helvetica, Arial, sans-serif
        }

        h1 {
            background-color: #2a5599;
            color: #FFFFFF;
            padding: 5px;
            /* TODO 1
            change the text to white and add a padding of 5px
            2 lines of code
            */
        }
        svg {
          border: 1px solid black;
        }
        /* TODO 2
        Add code to show a black border of 1px around all SVGs elements in the page
        1-3 lines of code
        */
        .mainView {
          display: flex;
          flex: 50%
        }

        /* TODO 3
         - Use the "display flex" feature from to show the items from class `mainView` side by side
         1-3 lines of cide
        */
    </style>
    <script src="https://vjm44.github.io/coursera1.github.io/d3.js"></script>
</head>

<body>
    <h1>Airlines Routes</h1>
    <div class="mainView">
        <div>
            <h2>AirlinesLIKE</h2>
            <svg id="AirlinesChart"></svg>
        </div>
        <div>
            <h2>Airports</h2>
            <svg id="Map"></svg>
        </div>
    </div>
<script>

let store = {}

function loadData() {
  let promise = d3.csv("https://vjm44.github.io/coursera1.github.io/routes.csv")//TODO 1: Add the code to load the CSV file named "routes.csv" | 1 Line
  return promise.then(routes =>  {
      store.routes = store//TODO 2: Save the routes into our store variable;
      return store;
  })
}
    function groupByAirline(data) {
      //Iterate over each route, producing a dictionary where the keys is are the ailines ids and the values are the information of the airline.
      let result = data.reduce((result, d) => {
          let currentData = result[d.AirlineID] || {
              "AirlineID": d.AirlineID,
              "AirlineName": d.AirlineName,
              "Count": 0
          }

          currentData.Count += 1//TODO: Increment the count (number of routes) of ariline.

          result[d.AirlineID] = "AirlineID"//TODO: Save the updated information in the dictionary using the airline id as key.

          return result;
      }, {})

      //We use this to convert the dictionary produced by the code above, into a list, that will make it easier to create the visualization.
      result = Object.keys(result).map(key => result[key])
      result = currentData.sort (d3.ascending(a.AirlineID, b.AirlineID))//TODO: Sort the data in descending order of count.

      return result
  }
  function showData() {
    //Get the routes from our store variable
    let routes = store.routes
    // Compute the number of routes per airline.
    let airlines = groupByAirline(store.routes);
    console.log(airlines)
  }
}
loadData().then(showData);
</script>

</body></html>
